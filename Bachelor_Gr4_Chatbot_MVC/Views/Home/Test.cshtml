
@{
    ViewData["Title"] = "Test";
}

<h2>Test</h2>

<h2>Direct Line Bot Example</h2>


<div class="row">
    <div class="col-md-4" id="commentForm">
        <form asp-action="CreateComment">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                @*<label asp-for="Kommentar" class="control-label"></label>*@
                <input id="Text" class="form-control" />
                <span class="text-danger"></span>
            </div>

            <div class="form-group">
                <input type="button" value="Post" id="save" onclick="addComment()" class="btn btn-default" />
            </div>
        </form>
    </div>
    <script type="text/javascript">
            function addComment() {
                activity = {
                    "text": $("#Text").val()
                };

                $.ajax({
                    type: "POST",
                    url: "/api/Chatbot/",
                    data: JSON.stringify(Comment),
                    contentType: "application/ json; charset = utf-8",
                    dataType: 'json',
                    success: function (result) {
                        $("#update").html(result);
                        $("#commentForm").hide("fast");

                    },
                    error: function (req, status, error) {
                        $("#update").html("AJAX error");
                    }
                });
            }
    </script>
    <div id="update"></div>
</div>